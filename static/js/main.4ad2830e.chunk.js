(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(8),s=a.n(n),c=(a(16),a(2)),l=a(3),u=a(6),o=a(4),f=a(1),m=a(5),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).componentDidUpdate=function(){return a.props.getActiveFields()},a.state={active:!1,selectResult:!1},a.itemRef=i.a.createRef(),a._clickItemField=a._clickItemField.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"_clickItemField",value:function(){var e=this.props.area,t=this.state.active,a=e.state.number;(a>0||0===a&&t)&&(this.setState({active:!t}),e.setState({number:t?a+1:a-1}))}},{key:"render",value:function(){var e="lottery__item-fields";return this.state.active&&(e+=" lottery__item-fields--active"),this.state.selectResult&&(e+=" lottery__item-fields--result"),i.a.createElement("li",{ref:this.itemRef,className:e,onClick:this._clickItemField},this.props.number)}}]),t}(r.Component),d=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={number:0,fields:[],activeFields:[]},a.fieldsRefs=[],a.getActiveFields=a.getActiveFields.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getActiveFields",value:function(){var e=this.fieldsRefs.filter(function(e){return e.state.active});this.setState({activeFields:e.map(function(e){return e.props.number})})}},{key:"_renderDesc",value:function(e){var t="\u041e\u0442\u043c\u0435\u0442\u044c\u0442\u0435 ".concat(e," ");return e>4?t+="\u0447\u0438\u0441\u0435\u043b":e>1?t+="\u0447\u0438\u0441\u043b\u0430":1===e?t+="\u0447\u0438\u0441\u043b\u043e":0===e&&(t="\u0423\u0432\u044b \u043d\u043e \u0432\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c"),t}},{key:"_renderitemField",value:function(e){for(var t=this,a=[],r=function(e){a.push(i.a.createElement(h,{ref:function(a){return t.fieldsRefs[e]=a},key:e,number:e+1,area:t,getActiveFields:t.getActiveFields}))},n=0;n<e;n++)r(n);return a}},{key:"componentWillMount",value:function(){var e=this.props.maxfield;this.setState({number:this.props.number,fields:this._renderitemField(e)})}},{key:"render",value:function(){var e=this.state,t=e.number,a=e.fields;return i.a.createElement("div",{className:"lottery__area"},i.a.createElement("div",{className:"lottery__area-head"},i.a.createElement("p",{className:"lottery__area-title"},"\u041f\u0435\u0440\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043f\u043e\u043b\u044f"),i.a.createElement("p",{className:"lottery__area-desc"},this._renderDesc(t))),i.a.createElement("ul",{className:"lottery__list-fields"}," ",a," "))}}]),t}(r.Component),v=a(9),_=a.n(v),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.clickFastFill,a=e.clickResult;return i.a.createElement("div",{className:"lottery__buttons"},i.a.createElement("button",{className:"lottery__button lottery__button-fast-fill",onClick:t},i.a.createElement("img",{className:"lottery__icon-fast-fill",src:_.a,alt:"magic-icon"})),i.a.createElement("button",{className:"lottery__button lottery__button-result",onClick:a},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"))}}]),t}(r.Component),b=(a(17),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={lockResult:!1,message:""},a.areaMainRef=i.a.createRef(),a.areaExtraRef=i.a.createRef(),a.clickFastFill=a.clickFastFill.bind(Object(f.a)(a)),a.clickResult=a.clickResult.bind(Object(f.a)(a)),a.lockButtons=!1,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"_gererateArray",value:function(e,t){for(var a=[];;){var r=Math.floor(Math.random()*t);if(~a.indexOf(r)||a.push(r),a.length===e)break}return a}},{key:"_fastFill",value:function(e){var t=e.props,a=t.number,r=t.maxfield;e.fieldsRefs.forEach(function(e){return e.setState({active:!1})}),this._gererateArray(a,r).forEach(function(t){e.setState({number:0}),e.fieldsRefs[t].setState({active:!0})})}},{key:"clickFastFill",value:function(){this.lockButtons||(this._fastFill(this.areaMainRef.current),this._fastFill(this.areaExtraRef.current))}},{key:"_checkNumMatches",value:function(e,t){var a=e.state.activeFields;return t.filter(function(e){return!!~a.indexOf(e+1)}).length}},{key:"endGame",value:function(e,t){var a=this._checkNumMatches(this.areaMainRef.current,e),r=this._checkNumMatches(this.areaExtraRef.current,t),i="";i=4===a||a>=3&&1===r?"\u0423\u0440\u0430\u0430\u0430, \u0432\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438!":"\u0423\u0432\u044b, \u043d\u043e \u0432\u044b \u043d\u0435 \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438!",this.setState({message:i,lockResult:!0})}},{key:"_genererateResult",value:function(e,t){var a=e.current,r=a.fieldsRefs,i=a.props,n=this._gererateArray(t,i.maxfield);return n.forEach(function(e){return r[e].setState({selectResult:!0})}),n}},{key:"clickResult",value:function(){var e=this,t=this.areaMainRef.current.state,a=this.areaExtraRef.current.state;if(!this.lockButtons&&0===t.number&&0===a.number){var r=this._genererateResult(this.areaMainRef,4),i=this._genererateResult(this.areaExtraRef,1);this.lockButtons=!0,setTimeout(function(){return e.endGame(r,i)},2e3)}}},{key:"_rendMessage",value:function(){var e=this;if(this.state.lockResult)return i.a.createElement("div",{className:"lottery__message",onClick:function(){return e.setState({lockResult:!1})}},this.state.message)}},{key:"_rendGame",value:function(){if(!this.state.lockResult)return i.a.createElement("div",{className:"lottery__game"},i.a.createElement("div",{className:"lottery__ticket"},i.a.createElement(d,{ref:this.areaMainRef,number:8,maxfield:19}),i.a.createElement(d,{ref:this.areaExtraRef,number:1,maxfield:2})),i.a.createElement(k,{clickFastFill:this.clickFastFill,clickResult:this.clickResult}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"lottery"},i.a.createElement("h3",{className:"lottery__head"},"\u0411\u0438\u043b\u0435\u0442"),this._rendMessage(),this._rendGame())}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/magic-wand.40b66466.svg"}},[[10,1,2]]]);
//# sourceMappingURL=main.4ad2830e.chunk.js.map